(function(e){function t(t){for(var a,r,u=t[0],s=t[1],c=t[2],l=0,d=[];l<u.length;l++)r=u[l],o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-036dbd5d":"fdef5cf4","chunk-2d0b6ce6":"c352b85f","chunk-2d2077a9":"e1416aa9","chunk-2d20fe4a":"07620b8b","chunk-2d21b365":"6f424b6b","chunk-2d21f29d":"5cb41af8","chunk-2d22d746":"fc9ee672","chunk-c5115d12":"d411711b","chunk-c78d360e":"2ddadaa5"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-036dbd5d":1,"chunk-c5115d12":1,"chunk-c78d360e":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-036dbd5d":"ebd13d40","chunk-2d0b6ce6":"31d6cfe0","chunk-2d2077a9":"31d6cfe0","chunk-2d20fe4a":"31d6cfe0","chunk-2d21b365":"31d6cfe0","chunk-2d21f29d":"31d6cfe0","chunk-2d22d746":"31d6cfe0","chunk-c5115d12":"ae14b9aa","chunk-c78d360e":"afe51272"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){c=d[u],l=c.getAttribute("data-href");if(l===a||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.request=a,delete r[e],p.parentNode.removeChild(p),n(i)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=u(e),c=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1c2a":function(e,t,n){"use strict";var a=n("3c40"),r=n.n(a);r.a},"1d49":function(e,t,n){"use strict";var a=n("c523"),r=n.n(a);r.a},"1d77":function(e,t,n){"use strict";var a=n("912b"),r=n.n(a);r.a},"3c40":function(e,t,n){},"424d":function(e,t,n){},"4fd1":function(e,t,n){"use strict";var a=n("9c9d"),r=n.n(a);r.a},"55bd":function(e,t,n){"use strict";var a=n("608a"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=(n("5c0b"),n("2877")),u={},s=Object(i["a"])(u,r,o,!1,null,null,null);s.options.__file="App.vue";var c=s.exports,l=(n("7f7f"),n("be94")),d=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-wrapper"},[n("Layout",{staticClass:"layout-outer"},[n("Sider",{ref:"side1",attrs:{"hide-trigger":"",collapsible:"",collapsed:e.isCollapsed,"collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[n("side-menu",{attrs:{collapsed:e.isCollapsed}},[n("div",{staticClass:"logo"},[e._v("这是一个logo")])])],1),n("Layout",[n("Header",{staticClass:"header-con"},[n("header-bar",{attrs:{collapsed:e.isCollapsed},on:{"on-coll-change":e.handleCollapsedChange}},[n("user",{attrs:{"message-unread-count":e.messageUnreadCount}})],1)],1),n("Content",{style:{margin:"20px",background:"#fff",minHeight:"260px"}},[e._v("\n        这是main\n        "),n("router-view")],1)],1)],1)],1)},m=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"side-menu-wrapper"},[e._t("default"),n("Menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],attrs:{"active-name":"1-2",theme:"dark",width:"auto"}},[e._l(e.list,function(t,a){return[t.children&&t.children.length>0?n("side-menu-item",{key:"menu_"+t.name,attrs:{"parent-item":t}}):n("MenuItem",{key:"menu_"+t.name,attrs:{name:"item.name"}},[n("Icon",{attrs:{type:"ios-paper"}}),e._v(e._s(t.name))],1)]})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"menu-collapsed"},[e._l(e.list,function(t,a){return[t.children&&t.children.length>0?n("collapsed-menu",{attrs:{theme:e.theme,"hide-title":"","parent-item":t}}):n("Tooltip",{key:"drop-menu-"+t.name,attrs:{transfer:"",placement:"right",content:t.name}},[n("a",{staticClass:"drop-menu-a"},[n("Icon",{attrs:{type:"ios-book",size:"20",color:"#fff"}})],1)])]})],2)],2)},h=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Submenu",{attrs:{name:e.parentItem.id}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"ios-stats"}}),e._v("\r\n          "+e._s(e.parentItem.name)+"\r\n      ")],1),e._l(e.parentItem.children,function(t,a){return[t.children&&t.children.length>0?n("side-menu-item",{attrs:{"parent-item":t}}):n("MenuItem",{attrs:{name:"item.name"}},[n("Icon",{attrs:{type:"ios-paper"}}),e._v(e._s(t.name))],1)]})],2)},b=[],g={name:"SideMenuItem",props:{parentItem:{type:Object,default:function(){return{}}}}},_=g,y=Object(i["a"])(_,v,b,!1,null,null,null);y.options.__file="side-menu-item.vue";var k=y.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{staticClass:"collased-menu-dropdown",attrs:{placement:"right-start"}},[n("a",{staticClass:"drop-menu-a",attrs:{type:"text"}},[n("Icon",{attrs:{type:"md-build",size:"20",color:e.textColor}}),e.hideTitle?e._e():n("span",{staticClass:"menu-title"},[e._v(e._s(e.parentItem.name))]),e.hideTitle?e._e():n("Icon",{staticStyle:{float:"right"},attrs:{type:"ios-arrow-forward",size:16}})],1),n("DropdownMenu",{ref:"dropdown",attrs:{slot:"list"},slot:"list"},[e._l(e.parentItem.children,function(t){return[t.children&&t.children.length>0?n("collapsed-menu",{key:"drop-"+t.name,attrs:{"parent-item":t}}):n("DropdownItem",{key:"drop-"+t.name},[n("Icon",{attrs:{type:"ios-alarm-outline",size:"20",color:"#000"}}),n("span",{staticClass:"menu-title"},[e._v(e._s(t.name))])],1)]})],2)],1)},C=[],x={name:"CollapsedMenu",props:{parentItem:{type:Object,default:function(){return{}}},hideTitle:{type:Boolean,default:!1},theme:String},computed:{textColor:function(){return"dark"===this.theme?"#fff":"#495060"}}},j=x,E=(n("1d77"),Object(i["a"])(j,w,C,!1,null,null,null));E.options.__file="collapsed-menu.vue";var O=E.exports,I={components:{SideMenuItem:k,CollapsedMenu:O},props:{collapsed:{type:Boolean,default:!1}},data:function(){return{theme:"dark",list:[{name:"第一",id:1,children:[{name:"11",id:11},{name:"12",id:12,children:[{name:"xxx",id:121}]}]},{name:"option2",id:2},{name:"option3",id:3}]}}},S=I,N=(n("55bd"),Object(i["a"])(S,f,h,!1,null,null,null));N.options.__file="side-menu.vue";var T=N.exports,P=T,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-bar"},[n("side-trigger",{attrs:{collapsed:e.collapsed},on:{"on-change":e.handleCollpasedChange}}),n("custom-bread-crumb"),n("div",{staticClass:"custom-content-con"},[e._t("default")],2)],1)},M=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{class:["sider-trigger-a",e.collapsed?"collapsed":""],attrs:{type:"text"},on:{click:e.handleChange}},[n("Icon",{attrs:{type:"md-menu",size:"26"}})],1)},z=[],U={name:"SideTrigger",props:{collapsed:Boolean},methods:{handleChange:function(){this.$emit("on-change",!this.collapsed)}}},$=U,q=(n("e688"),Object(i["a"])($,A,z,!1,null,null,null));q.options.__file="side-trigger.vue";var R=q.exports,L=R,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-bread-crumb"},[n("Breadcrumb",{style:{fontSize:"14px"}},e._l(e.list,function(t){return n("BreadcrumbItem",{key:"bread-crumb-"+t.name,attrs:{to:t.to}},[n("Icon",{staticStyle:{"margin-right":"4px"},attrs:{type:"ios-checkbox",size:"12"}}),e._v("\n      "+e._s(t.meat.title)+"\n    ")],1)}),1)],1)},H=[],G={name:"CustomBreadCrumb",data:function(){return{list:[{name:"home",to:"/",meat:{title:"首页"}},{name:"about",meat:{title:"关于"}}]}}},J=G,V=(n("ad11"),Object(i["a"])(J,D,H,!1,null,null,null));V.options.__file="custom-bread-crumb.vue";var W=V.exports,F=W,K={name:"HeaderBar",components:{SideTrigger:L,CustomBreadCrumb:F},props:{collapsed:Boolean},methods:{handleCollpasedChange:function(e){this.$emit("on-coll-change",e)}}},Q=K,X=(n("4fd1"),Object(i["a"])(Q,B,M,!1,null,null,null));X.options.__file="header-bar.vue";var Y=X.exports,Z=Y,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-avatar-dropdown"},[n("Dropdown",[n("Badge",{attrs:{dot:!!e.messageUnreadCount}},[n("Avatar",{attrs:{src:"https://i.loli.net/2017/08/21/599a521472424.jpg"}})],1),n("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}}),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"message"}},[e._v("\n        消息中心"),n("Badge",{staticStyle:{"margin-left":"10px"},attrs:{count:e.messageUnreadCount}})],1),n("DropdownItem",{attrs:{name:"logout"}},[e._v("退出登录")])],1)],1)],1)},te=[],ne=(n("c5f6"),{name:"User",props:{messageUnreadCount:{type:Number,default:0}}}),ae=ne,re=(n("ab16"),Object(i["a"])(ae,ee,te,!1,null,null,null));re.options.__file="user.vue";var oe=re.exports,ie=oe,ue={data:function(){return{messageUnreadCount:3,isCollapsed:!1}},components:{SideMenu:P,HeaderBar:Z,User:ie},computed:{rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]}},methods:{handleCollapsedChange:function(e){this.isCollapsed=e}}},se=ue,ce=(n("1d49"),n("1c2a"),Object(i["a"])(se,p,m,!1,null,null,null));ce.options.__file="main.vue";var le=ce.exports,de=[{path:"",name:"about",component:le,children:[{path:"/about",name:"about",component:function(){return n.e("chunk-2d22d746").then(n.bind(null,"f820"))},props:{food:"banana"},meta:{title:"about"}}]},{path:"/argu/:name",component:function(){return n.e("chunk-2d0b6ce6").then(n.bind(null,"1f72"))},props:!0},{path:"/parent",name:"parent",component:function(){return n.e("chunk-c78d360e").then(n.bind(null,"135b"))},children:[{path:"child",component:function(){return n.e("chunk-2d2077a9").then(n.bind(null,"a169"))}}]},{path:"/named_view",components:{default:function(){return n.e("chunk-2d2077a9").then(n.bind(null,"a169"))},email:function(){return n.e("chunk-2d20fe4a").then(n.bind(null,"b622"))},tel:function(){return n.e("chunk-036dbd5d").then(n.bind(null,"5003"))}}},{path:"/main",redirect:function(e){return{name:"home"}}},{path:"/store",component:function(){return n.e("chunk-2d21f29d").then(n.bind(null,"d93e"))}}],pe=[{path:"/",name:"home",component:le,meat:{title:"首页"}},{path:"/login",name:"login",meta:{title:"登录"},component:function(){return n.e("chunk-c5115d12").then(n.bind(null,"dc3f"))}},{path:"*",component:function(){return n.e("chunk-2d21b365").then(n.bind(null,"bf8c"))}}],me=n("2f62"),fe={appName:"admin"},he=fe,ve={appNameWithVesion:function(e){return e.appName+"v2.0"}},be=ve,ge={SET_APP_NAME:function(e,t){e.appName=t}},_e=ge,ye=function(){return new Promise(function(e,t){var n=null;setTimeout(function(){n?t(n):e({code:200,info:{appName:"newAPPName"}})})})},ke={upDateAppName:function(e){var t=e.commit;ye().then(function(e){t("SET_APP_NAME",e.info.appName)}).catch(function(e){console.log(e)})}},we=ke,Ce=(n("f751"),n("ac6a"),n("456d"),n("d4ec")),xe=n("bee2"),je=n("7f43"),Ee=n.n(je),Oe="/api/",Ie=n("8c92"),Se=n.n(Ie),Ne=function(e){window.document.title=e||"admin"},Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"token";Se.a.set(t,e)},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return Se.a.get(e)},Be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;Object(Ce["a"])(this,e),this.baseUrl=t,this.queue={}}return Object(xe["a"])(e,[{key:"getInsideConfig",value:function(){var e={baseURL:this.baseUrl,headers:{}};return e}},{key:"distroy",value:function(e){delete this.queue[e],Object.keys(this.queue).length}},{key:"interceptors",value:function(e,t){var n=this;e.interceptors.request.use(function(e){return Object.keys(n.queue).length,n.queue[t]=!0,e.headers["Authorization"]=Pe(),e},function(e){return Promise.reject(e)}),e.interceptors.response.use(function(e){n.distroy(t);var a=e.data;return a},function(e){return n.distroy(t),Promise.reject(e.response.data)})}},{key:"request",value:function(e){var t=Ee.a.create();return e=Object.assign(this.getInsideConfig(),e),this.interceptors(t,e.url),t(e)}}]),e}(),Me=Be,Ae=new Me,ze=Ae,Ue=function(e){var t=e.userName,n=e.password;return ze.request({url:"http://localhost:3000/index/login",method:"post",data:{userName:t,password:n}})},$e=function(){return ze.request({url:"http://localhost:3000/users/authorization",method:"get"})},qe={state:{userName:"zzx",rules:{}},mutations:{SET_RULES:function(e,t){e.rules=t}},actions:{login:function(e,t){e.commit;var n=t.userName,a=t.password;return new Promise(function(e,t){Ue({userName:n,password:a}).then(function(n){200===n.code&&n.data.token?(Te(n.data.token),e()):t(new Error("错误"))}).catch(function(e){t(e)})})},authorization:function(e,t){var n=e.commit;return new Promise(function(e,t){$e().then(function(a){401===parseInt(a.code)?t(new Error("token error")):(Te(a.data.token),e(a.data.rules.page),n("SET_RULES",a.data.rules.component))}).catch(function(e){t(e)})})}}},Re={routers:pe,hasGetRules:!1},Le={CONCAT_ROUTES:function(e,t){e.routers=t.concat(pe),e.hasGetRules=!0}},De=function e(t,n){return t.filter(function(t){return!!n[t.name]&&(t.children&&(t.children=e(t.children,n)),!0)})},He={concatRoutes:function(e,t){var n=e.commit;return new Promise(function(e,a){try{var r=[];r=De(de,t),n("CONCAT_ROUTES",r),e(Re.routers)}catch(o){a(o)}})}},Ge={state:Re,mutations:Le,actions:He};a["a"].use(me["a"]);var Je=new me["a"].Store({state:he,getters:be,mutations:_e,actions:we,modules:{user:qe,router:Ge}}),Ve=n("d978"),We=n.n(Ve),Fe=n("20bd"),Ke=n.n(Fe);a["a"].use(d["a"]);var Qe=new d["a"]({mode:"hash",routes:pe});Qe.beforeEach(function(e,t,n){We.a.LoadingBar.start(),e.meta&&Ne(e.meta.title);var a=Pe();a?Je.state.router.hasGetRules?n():(Je.dispatch("authorization").then(function(t){Je.dispatch("concatRoutes",t).then(function(t){Qe.addRoutes(Ke()(t)),n(Object(l["a"])({},e,{replace:!0}))}).catch(function(){n({name:"login"})})}).catch(function(){Te(""),n({name:"login"})}),n()):"login"===e.name?n():n({name:"login"})}),Qe.afterEach(function(e,t){We.a.LoadingBar.finish()});var Xe=Qe,Ye=new a["a"],Ze=Ye;n("a117"),n("6672");a["a"].use(We.a),a["a"].config.productionTip=!1,a["a"].prototype.$bus=Ze,new a["a"]({router:Xe,store:Je,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(e,t,n){},"608a":function(e,t,n){},"62b4":function(e,t,n){},6672:function(e,t,n){},"912b":function(e,t,n){},"9c9d":function(e,t,n){},ab16:function(e,t,n){"use strict";var a=n("62b4"),r=n.n(a);r.a},ad11:function(e,t,n){"use strict";var a=n("c8fd"),r=n.n(a);r.a},c523:function(e,t,n){},c8fd:function(e,t,n){},e688:function(e,t,n){"use strict";var a=n("424d"),r=n.n(a);r.a}});
//# sourceMappingURL=app.b0d162b6.js.map